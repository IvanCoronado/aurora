!function(){"use strict";angular.module("aurora",["ngRoute","nvd3"])}(),function(){"use strict";angular.module("aurora").component("myTable",{templateUrl:"app/components/my-table/my-table.tpl.html",bindings:{head:"<",values:"<"}})}(),function(){"use strict";function e(e){function t(){e.getData().then(function(t){n.nvd3Data=e.getNvd3CompatibleData(t),n.tableData=e.getTableCompatibleData(t)})}function a(){saveSvgAsPng(document.getElementsByTagName("svg")[0],"diagram.png")}var n=this;d3.time.format("%m/%d/%Y");n.showTable=!0,n.exportSvgAsImg=a,t(),n.options={chart:{type:"lineChart",height:450,margin:{top:20,right:20,bottom:60,left:55},x:function(e){return new Date(e.x)},y:function(e){return e.y},useInteractiveGuideline:!0,xAxis:{tickFormat:function(e){return d3.time.format("%b %d")(new Date(e))}},yAxis:{axisLabelDistance:-10}}}}e.$inject=["dataService"],angular.module("aurora").controller("MainController",e)}(),function(){function e(e){return e instanceof HTMLElement||e instanceof SVGElement}function t(t){if(!e(t))throw new Error("an HTMLElement or SVGElement is required; got "+t)}function a(e){return e&&0==e.lastIndexOf("http",0)&&-1==e.lastIndexOf(window.location.host)}function n(e,n){t(e);var r=e.querySelectorAll("image"),o=r.length,l=function(){0===o&&n()};l();for(var i=0;i<r.length;i++)!function(e){var t=e.getAttributeNS("http://www.w3.org/1999/xlink","href");if(t&&a(t.value))return void console.warn("Cannot render embedded images linking to external hosts: "+t.value);var n=document.createElement("canvas"),r=n.getContext("2d"),i=new Image;t=t||e.getAttribute("href"),t?(i.src=t,i.onload=function(){n.width=i.width,n.height=i.height,r.drawImage(i,0,0),e.setAttributeNS("http://www.w3.org/1999/xlink","href",n.toDataURL("image/png")),o--,l()},i.onerror=function(){console.log("Could not load "+t),o--,l()}):(o--,l())}(r[i])}function r(e,t){for(var a="",n=document.styleSheets,r=0;r<n.length;r++){try{var o=n[r].cssRules}catch(l){console.warn("Stylesheet could not be loaded: "+n[r].href);continue}if(null!=o)for(var i=0;i<o.length;i++){var s=o[i];if("undefined"!=typeof s.style){var d,c;try{c=s.selectorText}catch(u){console.warn('The following CSS rule has an invalid selector: "'+s+'"',u)}try{c&&(d=e.querySelector(c))}catch(u){console.warn('Invalid CSS selector "'+c+'"',u)}if(d){var m=t?t(s.selectorText):s.selectorText;a+=m+" { "+s.style.cssText+" }\n"}else s.cssText.match(/^@font-face/)&&(a+=s.cssText+"\n")}}}return a}function o(e,t,a){var n=e.viewBox&&e.viewBox.baseVal&&e.viewBox.baseVal[a]||null!==t.getAttribute(a)&&!t.getAttribute(a).match(/%$/)&&parseInt(t.getAttribute(a))||e.getBoundingClientRect()[a]||parseInt(t.style[a])||parseInt(window.getComputedStyle(e).getPropertyValue(a));return"undefined"==typeof n||null===n||isNaN(parseFloat(n))?0:n}function l(e){return e=encodeURIComponent(e),e=e.replace(/%([0-9A-F]{2})/g,function(e,t){var a=String.fromCharCode("0x"+t);return"%"===a?"%25":a}),decodeURIComponent(e)}function i(e,t){var a=document.createElement("a");a.download=e,a.href=t,document.body.appendChild(a),a.addEventListener("click",function(e){a.parentNode.removeChild(a)}),a.click()}var s="undefined"!=typeof exports&&exports||"undefined"!=typeof define&&{}||this,d='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';s.svgAsDataUri=function(e,a,i){t(e),a=a||{},a.scale=a.scale||1;var s="http://www.w3.org/2000/xmlns/";n(e,function(){var t,n,c=document.createElement("div"),u=e.cloneNode(!0);if("svg"==e.tagName)t=a.width||o(e,u,"width"),n=a.height||o(e,u,"height");else{if(!e.getBBox)return void console.error("Attempted to render non-SVG element",e);var m=e.getBBox();t=m.x+m.width,n=m.y+m.height,u.setAttribute("transform",u.getAttribute("transform").replace(/translate\(.*?\)/,""));var g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.appendChild(u),u=g}u.setAttribute("version","1.1"),u.getAttribute("xmlns")||u.setAttributeNS(s,"xmlns","http://www.w3.org/2000/svg"),u.getAttribute("xmlns:xlink")||u.setAttributeNS(s,"xmlns:xlink","http://www.w3.org/1999/xlink"),u.setAttribute("width",t*a.scale),u.setAttribute("height",n*a.scale),u.setAttribute("viewBox",[a.left||0,a.top||0,t,n].join(" "));for(var h=u.querySelectorAll("foreignObject > *"),v=0;v<h.length;v++)h[v].setAttributeNS(s,"xmlns","http://www.w3.org/1999/xhtml");c.appendChild(u);var f=r(e,a.selectorRemap),p=document.createElement("style");p.setAttribute("type","text/css"),p.innerHTML="<![CDATA[\n"+f+"\n]]>";var b=document.createElement("defs");b.appendChild(p),u.insertBefore(b,u.firstChild);var g=d+c.innerHTML,w="data:image/svg+xml;base64,"+window.btoa(l(g));i&&i(w)})},s.svgAsPngUri=function(e,a,n){t(e),s.svgAsDataUri(e,a,function(e){var t=new Image;t.onload=function(){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var r=e.getContext("2d");a&&a.backgroundColor&&(r.fillStyle=a.backgroundColor,r.fillRect(0,0,e.width,e.height)),r.drawImage(t,0,0);var o;document.createElement("a");try{o=e.toDataURL("image/png")}catch(l){if("undefined"!=typeof SecurityError&&l instanceof SecurityError||"SecurityError"==l.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw l}n(o)},t.onerror=function(e){console.error("There was an error loading the data URI as an image",e)},t.src=e})},s.saveSvg=function(e,a,n){t(e),n=n||{},s.svgAsDataUri(e,n,function(e){i(a,e)})},s.saveSvgAsPng=function(e,a,n){t(e),n=n||{},s.svgAsPngUri(e,n,function(e){i(a,e)})},"undefined"!=typeof define&&define(function(){return s})}(),function(){"use strict";function e(e){function t(){var t=e.defer();return d3.csv("/assets/data/Data2.csv").get(function(e,a){angular.isObject(e)?t.reject(e):t.resolve(a)}),t.promise}function a(e){var t,a,n;return t=_.chain(e).first().keysIn().value(),a=_.chain(e).map(function(e){return _.values(e)}).value(),n={head:t,values:a}}function n(e){function t(){var e=[];return _.map(n,function(t){var a={key:t,values:[]};e.push(a)}),e}function a(e,t){_.map(t,function(t){_.map(e,function(e){var a={x:moment(t.Date,"DD/MM/YYYY").toDate(),y:_.chain(t).get(e.key).replace(",",".").parseInt().value()};e.values.push(a)})})}var n,r;return n=_.chain(e).first().omit("Date").keysIn().value(),r=t(),a(r,e),r}var r={getData:t,getTableCompatibleData:a,getNvd3CompatibleData:n};return r}e.$inject=["$q"],angular.module("aurora").factory("dataService",e)}(),function(){"use strict";function e(){}angular.module("aurora").run(e)}(),function(){"use strict";function e(e){e.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).otherwise({redirectTo:"/"})}e.$inject=["$routeProvider"],angular.module("aurora").config(e)}(),function(){"use strict";angular.module("aurora")}(),function(){"use strict";function e(){}angular.module("aurora").config(e)}(),angular.module("aurora").run(["$templateCache",function(e){e.put("app/main/main.html",'<div class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header"><header class="demo-header mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600"><div class=mdl-layout__header-row><span class=mdl-layout-title>Stage 1</span><div class=mdl-layout-spacer></div><button class="mdl-button mdl-js-button" ng-click="main.showTable = !main.showTable"><label ng-if=main.showTable>Show chart</label><label ng-if=!main.showTable>Show table</label></button> <button class="mdl-button mdl-js-button" ng-click=main.exportSvgAsImg() ng-disabled=main.showTable><label>Export chart</label></button></div></header><div class="demo-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50"><header class=demo-drawer-header><div class=demo-avatar-dropdown><img src=./assets/images/me.jpg class=demo-avatar> <span>ivacormor@gmail.com</span></div></header><nav class="demo-navigation mdl-navigation mdl-color--blue-grey-800"><a class=mdl-navigation__link href=https://es.linkedin.com/in/ivancoronadomoreno target=_blank>Linkedin </a><a class=mdl-navigation__link href=https://github.com/IvanCoronado target=_blank>Github </a><a class=mdl-navigation__link href=http://stackoverflow.com/users/5147115/ivan-coronado target=_blank>Stackoverflow</a><div class=mdl-layout-spacer></div></nav></div><main class="mdl-layout__content mdl-color--grey-100"><div class="mdl-grid demo-content"><my-table ng-if=main.showTable head=main.tableData.head values=main.tableData.values></my-table><div class="demo-charts mdl-color--white mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-grid"><nvd3 ng-if=!main.showTable options=main.options data=main.nvd3Data></nvd3></div></div></main></div>'),e.put("app/components/my-table/my-table.tpl.html",'<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp"><thead><tr><th ng-repeat="key in $ctrl.head track by $index" class=mdl-data-table__cell--non-numeric ng-bind=key></th></tr></thead><tbody><tr ng-repeat="value in $ctrl.values track by $index"><td ng-repeat="key in value track by $index" class=mdl-data-table__cell--non-numeric ng-bind=key></td></tr></tbody></table>')}]);
//# sourceMappingURL=../maps/scripts/app-67b08dca8d.js.map
